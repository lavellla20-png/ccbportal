{"ast":null,"code":"/**\r\n * Utility function to normalize image URLs to work with current host (domain or IP)\r\n * This ensures images display correctly whether accessed via domain name or IP address\r\n * \r\n * @param {string} imageUrl - The image URL from the backend (can be absolute or relative)\r\n * @returns {string} - Normalized URL that works with current host\r\n */\nexport const normalizeImageUrl = imageUrl => {\n  if (!imageUrl) return null;\n\n  // If it's already a data URL or blob URL, return as is\n  if (imageUrl.startsWith('data:') || imageUrl.startsWith('blob:')) {\n    return imageUrl;\n  }\n  try {\n    // If it's a relative URL (starts with /), make it absolute using current origin\n    if (imageUrl.startsWith('/')) {\n      return `${window.location.origin}${imageUrl}`;\n    }\n\n    // If it's an absolute URL, replace the origin with current origin\n    const url = new URL(imageUrl, window.location.href);\n    // Replace the origin (protocol + host + port) with current window's origin\n    return `${window.location.origin}${url.pathname}${url.search}${url.hash}`;\n  } catch (error) {\n    // If URL parsing fails, try to extract path and use current origin\n    console.warn('Failed to parse image URL:', imageUrl, error);\n    // If it looks like a path, prepend current origin\n    if (imageUrl.startsWith('/')) {\n      return `${window.location.origin}${imageUrl}`;\n    }\n    // Otherwise return as is (might be a relative path without leading slash)\n    return imageUrl;\n  }\n};","map":{"version":3,"names":["normalizeImageUrl","imageUrl","startsWith","window","location","origin","url","URL","href","pathname","search","hash","error","console","warn"],"sources":["D:/ccbwebmain/src/utils/imageUtils.js"],"sourcesContent":["/**\r\n * Utility function to normalize image URLs to work with current host (domain or IP)\r\n * This ensures images display correctly whether accessed via domain name or IP address\r\n * \r\n * @param {string} imageUrl - The image URL from the backend (can be absolute or relative)\r\n * @returns {string} - Normalized URL that works with current host\r\n */\r\nexport const normalizeImageUrl = (imageUrl) => {\r\n  if (!imageUrl) return null;\r\n  \r\n  // If it's already a data URL or blob URL, return as is\r\n  if (imageUrl.startsWith('data:') || imageUrl.startsWith('blob:')) {\r\n    return imageUrl;\r\n  }\r\n  \r\n  try {\r\n    // If it's a relative URL (starts with /), make it absolute using current origin\r\n    if (imageUrl.startsWith('/')) {\r\n      return `${window.location.origin}${imageUrl}`;\r\n    }\r\n    \r\n    // If it's an absolute URL, replace the origin with current origin\r\n    const url = new URL(imageUrl, window.location.href);\r\n    // Replace the origin (protocol + host + port) with current window's origin\r\n    return `${window.location.origin}${url.pathname}${url.search}${url.hash}`;\r\n  } catch (error) {\r\n    // If URL parsing fails, try to extract path and use current origin\r\n    console.warn('Failed to parse image URL:', imageUrl, error);\r\n    // If it looks like a path, prepend current origin\r\n    if (imageUrl.startsWith('/')) {\r\n      return `${window.location.origin}${imageUrl}`;\r\n    }\r\n    // Otherwise return as is (might be a relative path without leading slash)\r\n    return imageUrl;\r\n  }\r\n};\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,iBAAiB,GAAIC,QAAQ,IAAK;EAC7C,IAAI,CAACA,QAAQ,EAAE,OAAO,IAAI;;EAE1B;EACA,IAAIA,QAAQ,CAACC,UAAU,CAAC,OAAO,CAAC,IAAID,QAAQ,CAACC,UAAU,CAAC,OAAO,CAAC,EAAE;IAChE,OAAOD,QAAQ;EACjB;EAEA,IAAI;IACF;IACA,IAAIA,QAAQ,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;MAC5B,OAAO,GAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAGJ,QAAQ,EAAE;IAC/C;;IAEA;IACA,MAAMK,GAAG,GAAG,IAAIC,GAAG,CAACN,QAAQ,EAAEE,MAAM,CAACC,QAAQ,CAACI,IAAI,CAAC;IACnD;IACA,OAAO,GAAGL,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAGC,GAAG,CAACG,QAAQ,GAAGH,GAAG,CAACI,MAAM,GAAGJ,GAAG,CAACK,IAAI,EAAE;EAC3E,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd;IACAC,OAAO,CAACC,IAAI,CAAC,4BAA4B,EAAEb,QAAQ,EAAEW,KAAK,CAAC;IAC3D;IACA,IAAIX,QAAQ,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;MAC5B,OAAO,GAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAGJ,QAAQ,EAAE;IAC/C;IACA;IACA,OAAOA,QAAQ;EACjB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}